<th:block th:replace="layout :: setContent(~{this::content})">
    <th:block th:fragment="content">
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <title>Unite</title>
            <link th:href="@{/css/popup.css}" rel="stylesheet"/>
            <link th:href="@{/css/economicIndex.css}" rel="stylesheet"/>
            <link th:href="@{/css/birthday.css}" rel="stylesheet"/>
            <script th:src="@{/js/popup.js}"></script>
            <script th:src="@{/js/economicIndex.js}"></script>
            <script th:src="@{/js/home.js}"></script>
            <script th:src="@{/js/birthday.js}"></script>
        </head>
        <body class="bg-light">
        <div class="container mt-4">
            <div class="row g-4">
                <!-- ÌîÑÎ°úÌïÑ Ï†ïÎ≥¥ ÌëúÏãú -->
                <div class="col-lg-3">
                    <div class="card shadow-sm" style="height: 100%;">
                        <div class="card-body text-center">
                            <img th:src="@{/api/emp/profile-image(empId=${#authentication.name})}"
                                 class="rounded-circle mb-3" width="150px" alt="ÌîÑÎ°úÌïÑ">
                            <h5 th:text="${name}" class="card-title mb-1"></h5>
                            <p th:text="${job}" class="text-muted small mb-2"></p>
                            <p th:text="${email}" class="text-muted small"></p>
                            <hr>
                            <div class="text-start">
                                <p>
                                    Í≤∞Ïû¨ ÎåÄÍ∏∞ Î¨∏ÏÑú: <a th:href="@{/doc/waiting}" class="text-decoration-none text-secondary">
                                    <span th:text="${waiting}"></span>
                                </a>
                                </p>
                                <p>
                                    Í≤∞Ïû¨ ÏßÑÌñâ Î¨∏ÏÑú: <a th:href="@{/doc/inProgress}"
                                                 class="text-decoration-none text-secondary">
                                    <span th:text="${inProgress}"></span>
                                </a>
                                </p>
                            </div>
                            <div class="d-flex justify-content-around mt-4">
                                <a href="/contact/inner" id="inner">
                                    <img th:src="@{/image/inner.png}" style="width:50px; height:50px;">
                                </a>
                                <a href="/contact/outer" id="outer">
                                    <img th:src="@{/image/outer.png}" style="width:50px; height:50px;">
                                </a>
                            </div>
                            <div class="d-flex justify-content-around mt-2">
                                <span>ÏÇ¨ÎÇ¥Ï£ºÏÜåÎ°ù</span>
                                <span>Ïô∏Î∂ÄÏ£ºÏÜåÎ°ù</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Í≤åÏãúÌåê -->
                <div class="col-lg-6">
                    <!--Ï¢åÏö∞ cardÏôÄ Î∞ëÎã® ÎßûÏ∂îÍ∏∞ ÏúÑÌï¥ÏÑú ÌïòÎã® padding ÏûÖÎ†•-->
                    <div class="card shadow-sm">
                        <div class="card-body">
                            <!--Ï∫òÎ¶∞Îçî-->
                            <div th:replace="homeCalendar.html"></div>
                        </div>
                    </div>
                </div>

                <!-- Í≤ΩÏ†ú ÏßÄÌëú -->
                <div class="col-lg-3">
                    <div class="d-flex flex-column gap-3">
                        <div class="card shadow-sm">
                            <div class="card-body">
                                <h5 class="text-center">Í≤ΩÏ†ú ÏßÄÌëú</h5>
                                <div class="text-center" style="font-size: 12px; color: gray">* PM 12:00 Í∏∞Ï§Ä</div>
                                <ul class="list-group">
                                    <li id="kospi"
                                        class="list-group-item d-flex justify-content-between align-items-center">
                                        <span>KOSPI</span>
                                        <span class="rate-value text-end flex-grow-1" id="kospiIndex"></span>
                                    </li>
                                    <li id="kosdaq"
                                        class="list-group-item d-flex justify-content-between align-items-center">
                                        <span>KOSDAQ</span>
                                        <span class="rate-value text-end flex-grow-1" id="kosdaqIndex"></span>
                                    </li>
                                    <li id="usd-rate"
                                        class="list-group-item d-flex justify-content-between align-items-center">
                                        <img th:src="@{/image/flags/usa.jpg}" width="30px" class="me-2">
                                        <span class="rate-value text-end flex-grow-1"></span>
                                    </li>
                                    <li id="jpy-rate"
                                        class="list-group-item d-flex justify-content-between align-items-center">
                                        <img th:src="@{/image/flags/japan.jpg}" width="30px" class="me-2">
                                        <span class="rate-value text-end flex-grow-1"></span>
                                    </li>
                                    <li id="eur-rate"
                                        class="list-group-item d-flex justify-content-between align-items-center">
                                        <img th:src="@{/image/flags/eu.png}" width="30px" class="me-2">
                                        <span class="rate-value text-end flex-grow-1"></span>
                                    </li>
                                    <li id="cnh-rate"
                                        class="list-group-item d-flex justify-content-between align-items-center">
                                        <img th:src="@{/image/flags/china.jpg}" width="30px" class="me-2">
                                        <span class="rate-value text-end flex-grow-1"></span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container mt-4">
            <!-- Ï∂úÍ∑º Î≤ÑÌäº Î∞ïÏä§ -->
            <div class="row g-4">
                <div class="col-lg-3">
                    <div class="card shadow-sm">
                        <div class="card-body">
                            <div th:replace="attend/attendBox.html"></div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card shadow-sm">
                        <div class="card-body">
                            <h5><a th:href="@{/board/home}" class="text-decoration-none text-dark">Í≤åÏãúÌåê</a></h5>
                            <table class="table table-striped board_table">
                                <tbody>
                                <tr>
                                    <td>Í≤åÏãúÍ∏ÄÏù¥ ÏóÜÏäµÎãàÎã§</td>
                                    <td></td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="card shadow-sm">
                        <div class="card-body">
                            <h5 class="text-center"><i class="bi bi-cake2-fill"></i>&emsp;ÏÉùÏùº Ï∂ïÌïòÌï©ÎãàÎã§!&emsp;<i
                                    class="bi bi-cake2-fill"></i></h5>
                            <ul class="list-group">
                                <li class="list-group-item text-center birthday-list"
                                    style="margin-top: 10px; padding-bottom: 0px;"></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container mt-4">
            <div class="row g-4">
                <div class="col-lg-6">
                    <div class="card shadow-sm">
                        <div class="card-body">
                            <div style="margin-bottom: 15px;display: flex;justify-content: center;">
                                <h4>üöå</h4>
                                <h4 style="font-weight: 500;margin-bottom: 0;line-height: 35px;">&nbsp;Ï∂úÌá¥Í∑º Í≤ΩÎ°ú Ï∂îÏ≤ú</h4>
                            </div>
                            <!DOCTYPE html>
                            <html>
                            <head>
                                <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDiw6MLrtIlGEqSORFlRV0sr3MrIsMpS50&libraries=drawing&callback=initMap"
                                        async defer></script>
                                <script>
                                    let map, directionsRenderer, directionsService;

                                    function initMap() {
                                        // ÏßÄÎèÑ Ï¥àÍ∏∞Ìôî
                                        map = new google.maps.Map(document.getElementById("map"), {
                                            center: {lat: 37.5665, lng: 126.9780},
                                            zoom: 13
                                        });

                                        directionsService = new google.maps.DirectionsService();
                                        directionsRenderer = new google.maps.DirectionsRenderer();
                                        directionsRenderer.setMap(map);

                                        let origin = "ÏÑúÏö∏Ïó≠";
                                        let destination = "Î∂ÄÏÇ∞Ïó≠";

                                        // Í≤ΩÎ°ú ÏöîÏ≤≠ (Spring ControllerÏóêÏÑú Î∞òÌôòÎêú JSON Îç∞Ïù¥ÌÑ∞ ÏÇ¨Ïö©)
                                        fetch(`/api/direction?origin=${origin}&destination=${destination}`)
                                            .then(response => response.json())
                                            .then(data => {
                                                if (data.routes && data.routes.length > 0) {
                                                    const route = data.routes[0];  // Ï≤´ Î≤àÏß∏ Í≤ΩÎ°ú ÏÑ†ÌÉù
                                                    const leg = route.legs[0];      // Ï≤´ Î≤àÏß∏ leg ÏÑ†ÌÉù

                                                    // DirectionsRequest ÏÑ§Ï†ï
                                                    const directionsRequest = {
                                                        origin: leg.start_address,
                                                        destination: leg.end_address,
                                                        travelMode: google.maps.DirectionsTravelMode.TRANSIT,
                                                        waypoints: [],
                                                        provideRouteAlternatives: false,
                                                        drivingOptions: {
                                                            departureTime: new Date(Date.now()),  // Ï∂úÎ∞ú ÏãúÍ∞Ñ ÏÑ§Ï†ï (ÏßÄÍ∏à)
                                                            trafficModel: google.maps.TrafficModel.PESSIMISTIC
                                                        }
                                                    };

                                                    directionsService.route(directionsRequest, (result, status) => {
                                                        if (status === google.maps.DirectionsStatus.OK) {
                                                            directionsRenderer.setDirections(result);
                                                        } else {
                                                            console.error("Directions request failed due to " + status);
                                                        }
                                                    });
                                                }
                                            })
                                            .catch(error => {
                                                console.error("Error fetching directions:", error);
                                            });
                                    }
                                </script>
                            </head>
                            <body onload="initMap()">
                            <div id="map" style="width: 100%;height: 250px;border: 1px solid #ccc"></div>
                            </body>
                            </html>

                            <ul class="list-group">
                                <li class="list-group-item text-center" style="margin-top: 10px; padding-bottom: 0;">
                                    <div class="modal-setRoomName">
                                        <label class="modal-roomName">Ï∂úÎ∞úÏßÄ</label>
                                        <input type="text" class="input-modal-roomName" placeholder="Ï∂úÎ∞úÏßÄ ÏûÖÎ†•..">
                                    </div>
                                    <div class="modal-setRoomName">
                                        <label class="modal-roomName">Î™©Ï†ÅÏßÄ</label>
                                        <input type="text" class="input-modal-roomName" placeholder="Î™©Ï†ÅÏßÄ ÏûÖÎ†•..">
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÌåùÏóÖ Ïª®ÌÖåÏù¥ÎÑà -->
        <div id="popup-container"
             class="position-fixed top-50 start-50 translate-middle p-4 bg-white border rounded shadow-lg"
             style="width: 300px; display: none; z-index: 1050;">
            <p id="popup-content" class="mb-3 text-center"></p>
            <div class="d-flex justify-content-between">
                <button id="popup-close" class="btn btn-light btn-sm">Îã´Í∏∞</button>
                <button id="popup-dont-show" class="btn btn-secondary btn-sm">Î™®Îì† Í≥µÏßÄÏÇ¨Ìï≠ ÌïòÎ£® Î≥¥ÏßÄ ÏïäÍ∏∞</button>
            </div>
        </div>
        </body>
        </html>
    </th:block>
</th:block>